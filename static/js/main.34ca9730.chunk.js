(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{35:function(e,t,n){e.exports=n(66)},40:function(e,t,n){},41:function(e,t,n){},65:function(e,t,n){e.exports=n.p+"static/media/cameraicon.3e259573.png"},66:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(25),o=n.n(c),s=(n(40),n(41),n(30)),l=n(8);function u(e){var t=e.history,n=function(e){t.push("/".concat(e))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{onClick:function(){return n("panel")},className:"link"},"Painel de registros"),r.a.createElement("p",{onClick:function(){return n("poc")},className:"link"},"Visualizar"),r.a.createElement("p",{onClick:function(){return n("controlPanel")},className:"link"},"Painel de Controle"))}var i=n(1),d=n.n(i),m=n(10),p=n(2),f=n(26),h=n.n(f).a.create({baseURL:"https://18.230.25.215",timeout:5e4});function v(e){function t(e){return n.apply(this,arguments)}function n(){return(n=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault();try{c[t.target.value]()}catch(n){}case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function a(){return(a=Object(p.a)(d.a.mark((function e(t,n){var a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm('Tem certeza que deseja excluir a classe "'.concat(n,'"? ')+"Esta a\xe7\xe3o n\xe3o pode ser desfeita.")){e.next=2;break}return e.abrupt("return");case 2:if(a=window.prompt("Login"),r=window.prompt("Senha"),"adm"===a&&"adm"===r){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,h.post("/deleteClass",{_id:t});case 8:return e.next=10,h.post("/deleteSkuByClassId",{classId:t});case 10:window.location.reload();case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var c={Novo:function(){var e=document.createElement("br"),t=document.createElement("hr");t.style="border-top: 1px solid black";var n=document.getElementById("newInputsArea"),a=document.createElement("input");a.name="newClass[]",a.value="",document.createElement("button").appendChild(document.createTextNode("...")),n.appendChild(a),n.appendChild(t),n.appendChild(e)},Salvar:function(){return Object(p.a)(d.a.mark((function e(){var t,n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;try{t=Object(m.a)(document.forms.classes.elements["newClass[]"])}catch(r){t=document.forms.classes.elements["newClass[]"]?[document.forms.classes.elements["newClass[]"]]:[]}try{n=Object(m.a)(document.forms.classes.elements["class[]"])}catch(c){n=document.forms.classes.elements["class[]"]?[document.forms.classes.elements["class[]"]]:[]}return a=[],e.next=6,t.forEach((function(e){""!==e.value&&a.push({name:e.value})}));case 6:return e.next=8,n.forEach((function(e){""!==e.value&&a.push({name:e.value,_id:e.id})}));case 8:return e.next=10,h.post("/updateClasses",{Classes:a});case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),alert(e.t0);case 15:window.location.reload();case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))()}};function o(){return(o=Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.post("/getAllClasses");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s(){return(s=Object(p.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.history.push("/panel/".concat(n));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(){return o.apply(this,arguments)}().then((function(e){var n=e.data;n=n.Classes;var r=document.getElementById("classes");r.addEventListener("keypress",(function(e){"Enter"===e.key&&(e.preventDefault(),c.Salvar())})),n.forEach((function(e){var t=document.createElement("br"),n=document.createElement("hr");n.style="border-top: 1px solid black";var c=document.createElement("input");c.name="class[]",c.value=e.name;var o=document.createElement("button");o.onclick=function(){return function(e){return s.apply(this,arguments)}(e._id)},c.id=e._id,o.appendChild(document.createTextNode("...")),o.style="background-color:#dddddd; margin-left:10px;";var l=document.createElement("button");l.appendChild(document.createTextNode("X")),l.onclick=function(){return function(e,t){return a.apply(this,arguments)}(e._id,e.name)},l.style="background-color:#cc3333; margin-left:10px;",r.appendChild(c),r.appendChild(o),r.appendChild(l),r.appendChild(n),r.appendChild(t)}));var o=document.createElement("div");o.id="newInputsArea",r.appendChild(o);var l=document.createElement("input");l.type="submit",l.onclick=t,l.value="Novo",l.style="background-color: #cccccc",r.appendChild(l);var u=document.createElement("input");u.type="submit",u.onclick=t,u.value="Salvar",u.style="background-color: #ff4545",r.appendChild(u)})).catch((function(e){alert(e)})),r.a.createElement("form",{onSubmit:t,name:"classes"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{id:"classes",className:"col-sm-12 col-xs-12"},r.a.createElement("p",null,"Classe"))))}function E(e){e.history;var t=e.match.params.id;function n(){return a.apply(this,arguments)}function a(){return(a=Object(p.a)(d.a.mark((function e(){var n,a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.post("/info",{path:"before",image:"".concat(t,".jpeg")});case 2:return n=e.sent.data,e.next=5,h.post("/info",{path:"before",image:"".concat(t,".json")});case 5:if(a=e.sent.data,r=document.createElement("ul"),console.log(a),a){e.next=10;break}return e.abrupt("return",!1);case 10:return a.forEach((function(e){var t=document.createElement("li"),n=e.class.replace(/_/g," "),a=document.createElement("select");e.skus.forEach((function(e){var t=document.createElement("option");t.appendChild(document.createTextNode(e.sku)),a.appendChild(t)})),t.appendChild(document.createTextNode(n)),r.appendChild(t)})),document.getElementById("beforeImage").src="data:image/jpeg;base64,".concat(n),document.getElementById("beforeItems").appendChild(r),e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(){return o.apply(this,arguments)}function o(){return(o=Object(p.a)(d.a.mark((function e(){var n,a,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.post("/info",{path:"now",image:"".concat(t,".jpeg")});case 2:return n=e.sent.data,e.next=5,h.post("/info",{path:"now",image:"".concat(t,".json")});case 5:if(a=e.sent.data,r=document.createElement("ul"),c=[],a){e.next=10;break}return e.abrupt("return",!1);case 10:return a.forEach((function(e){var t=document.createElement("li"),n=e.class.replace(/_/g," "),a=document.createElement("select");e.skus.forEach((function(e){var t=document.createElement("option");t.appendChild(document.createTextNode(e.sku)),a.appendChild(t)})),c.push(n),t.appendChild(document.createTextNode(n)),r.appendChild(t)})),document.getElementById("nowImage").src="data:image/jpeg;base64,".concat(n),document.getElementById("nowItems").appendChild(r),e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s(e,t){var n=[];return console.log(e),t.forEach((function(t){var a=!1;e.forEach((function(e){e.class===t.class&&(a=!0)})),a||n.push(t)})),n}function l(e){var t=document.createElement("ul");e.forEach((function(e){var n=document.createElement("li");n.appendChild(document.createTextNode(e.class)),t.appendChild(n);var a=document.createElement("select");e.skus.forEach((function(e){var t=document.createElement("option");t.appendChild(document.createTextNode(e.sku)),a.appendChild(t)})),t.appendChild(a)})),document.getElementById("missingItems").appendChild(t)}function u(e){var t=document.createElement("ul");e.forEach((function(e){var n=document.createElement("li");n.appendChild(document.createTextNode(e.class)),t.appendChild(n);var a=document.createElement("select");e.skus.forEach((function(e){var t=document.createElement("option");t.appendChild(document.createTextNode(e.sku)),a.appendChild(t)})),t.appendChild(a)})),document.getElementById("addedItems").appendChild(t)}return function(){var e=Object(p.a)(d.a.mark((function e(){var t,a,r,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c();case 2:return t=e.sent,e.next=5,n();case 5:a=e.sent,r=s(t,a),o=s(a,t),l(r),u(o);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("h1",null,"Imagem anterior"),r.a.createElement("img",{width:"100%",height:"100%",alt:"n\xe3o foi poss\xedvel encontrar a imagem",id:"beforeImage"}),r.a.createElement("h2",null,"Itens encontrados:"),r.a.createElement("nav",{id:"beforeItems"})),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("h1",null,"Ultima Imagem"),r.a.createElement("img",{width:"100%",height:"100%",alt:"n\xe3o foi poss\xedvel encontrar a imagem",id:"nowImage"}),r.a.createElement("h2",null,"Itens encontrados:"),r.a.createElement("nav",{id:"nowItems"}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("h2",null,"Items removidos:"),r.a.createElement("nav",{id:"missingItems"})),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("h2",null,"Items adicionados:"),r.a.createElement("nav",{id:"addedItems"}))))}function b(e){function t(e){return n.apply(this,arguments)}function n(){return(n=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),c[t.target.value]();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var a={_id:e.match.params.id,row:0},c={Novo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=a.row;a.row++;var c=0,s=function(e){var t=document.createElement("hr");return t.style="\n                    border-top: 1px solid black;\n                ",t.className=e,t};s.style="border-top: 1px solid black";var l=[];l[0]=document.getElementById("SKU"),l[1]=document.getElementById("barcode"),l[2]=document.getElementById("texts");var u=document.getElementById("buttons"),i=document.createElement("button");i.appendChild(document.createTextNode("X")),i.className="".concat(r),i.onclick=function(e){e.preventDefault(),o("".concat(r))};var d=function(){var a=document.createElement("input");switch(c){case 0:c++,a.name="skus[]",a.value=e,a.className="".concat(r);break;case 1:c++,a.name="barcodes[]",a.value=t,a.className="".concat(r);break;case 2:c=0,a.name="texts[]",a.value=n,a.value=a.value.replace(","," "),a.className="".concat(r)}return a};l.forEach((function(e){e.appendChild(d()),e.appendChild(s(r))})),u.appendChild(i),u.appendChild(s(r))},Salvar:function(){return Object(p.a)(d.a.mark((function e(){var t,n,r,c,o,s,l,u;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t=Object(m.a)(document.forms.formulario.elements["skus[]"])}catch(i){t=document.forms.formulario.elements["skus[]"]?[document.forms.formulario.elements["skus[]"]]:[]}try{n=Object(m.a)(document.forms.formulario.elements["barcodes[]"])}catch(d){n=document.forms.formulario.elements["barcodes[]"]?[document.forms.formulario.elements["barcodes[]"]]:[]}try{r=Object(m.a)(document.forms.formulario.elements["texts[]"])}catch(p){r=document.forms.formulario.elements["texts[]"]?[document.forms.formulario.elements["texts[]"]]:[]}return c=[],t.forEach((function(e){c.push(e.value)})),o=[],n.forEach((function(e){""!==e.value&&o.push(e.value)})),s=[],r.forEach((function(e){""!==e.value?s.push(e.value.split(" ").filter((function(e){return!!e}))):s.push([])})),l=a._id,u={names:c,texts:s,barcodes:o,classId:l},e.next=13,h.post("/updateSkus",u);case 13:window.location.reload();case 14:case"end":return e.stop()}}),e)})))()}};function o(e){return s.apply(this,arguments)}function s(){return(s=Object(p.a)(d.a.mark((function e(t){var n,a,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm("Tem certeza que deseja excluir a sku ? Esta a\xe7\xe3o n\xe3o pode ser desfeita.")){e.next=2;break}return e.abrupt("return");case 2:if(n=window.prompt("Login"),a=window.prompt("Senha"),"adm"===n&&"adm"===a){e.next=6;break}return e.abrupt("return");case 6:for(r=document.getElementsByClassName("".concat(t)),c=r.length-1;c>=0;c--)"barcodes[]"===r[c].name&&h.post("/deleteSku",{barcode:r[c].value}),r[c].remove();case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(){return(l=Object(p.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.post("/getClassById",{id:a._id});case 2:return t=e.sent,e.next=5,h.post("/getAllSkus",{classId:a._id});case 5:return(n=e.sent.data).forEach((function(e){c.Novo(e.name,e.barcode,e.texts)})),console.log(n),e.abrupt("return",t);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return function(){return l.apply(this,arguments)}().then((function(e){var n=e.data;document.getElementById("formulario").addEventListener("keypress",(function(e){"Enter"===e.key&&(e.preventDefault(),c.Salvar())}));var a=document.getElementById("skus"),r=document.getElementById("head"),o=document.createElement("hr");r.appendChild(document.createTextNode(n.name)),r.appendChild(o);var s=document.createElement("input");s.type="submit",s.onclick=t,s.value="Novo",s.style="background-color: #cccccc",a.appendChild(s);var l=document.createElement("input");l.type="submit",l.onclick=t,l.value="Salvar",l.style="background-color: #ff4545",a.appendChild(l)})),r.a.createElement("form",{onSubmit:t,name:"formulario",id:"formulario"},r.a.createElement("div",{id:"skus"},r.a.createElement("p",{onClick:function(){return e.history.goBack()}},"Voltar"),r.a.createElement("div",{className:"row",style:{flexDirection:"row"}},r.a.createElement("div",{id:"head",className:"head"}),r.a.createElement("div",{id:"SKU",className:"col-sm-4 col-xs-4"},"SKU"),r.a.createElement("div",{id:"barcode",className:"col-sm-3 col-xs-3"},"barcode"),r.a.createElement("div",{id:"texts",className:"col-sm-4 col-xs-3"},"Textos"),r.a.createElement("div",{id:"buttons",className:"col-sm-1 col-xs-2"},r.a.createElement("br",null)))))}function y(e){var t=e.history;function n(e){e.preventDefault(),t.push("/poc/"+document.getElementById("id").value)}return r.a.createElement("form",{onSubmit:n},r.a.createElement("div",{className:"row"},r.a.createElement("p",null,"Identifica\xe7\xe3o"),r.a.createElement("input",{id:"id"}),r.a.createElement("input",{type:"submit",onSubmit:n})))}var g=n(27),x=n(28),w=n(33),k=n(29),C=n(34),I=function(e){function t(){return Object(g.a)(this,t),Object(w.a)(this,Object(k.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){function e(){return(e=Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.post("/getConfig",{});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function t(){return(t=Object(p.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=document.getElementById("projectArnVersion").value,e.next=4,h.post("/getConfig",{});case 4:(a=e.sent.data).rekognitionPreferences.ProjectVersionArn=n,h.post("/setConfig",a),window.location.reload();case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function n(){return(n=Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h.post("/startModel");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function a(){return(a=Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h.post("/stopModel");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return function(){return e.apply(this,arguments)}().then((function(e){var t=document.getElementById("pageForm"),n=e.rekognitionPreferences.ProjectVersionArn;if(document.getElementById("projectArnVersion").value=n,e.modelStatus.starting)return t.appendChild(document.createElement("br")),void t.appendChild(document.createTextNode("Status do modelo: ".concat(e.modelStatus.message)));e.modelStatus.ready?document.getElementById("stopButton").style.display="block":document.getElementById("startButton").style.display="block",t.appendChild(document.createElement("br")),t.appendChild(document.createTextNode("".concat(e.modelStatus.message)))})),r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Painel de Controle"),r.a.createElement("form",{onSubmit:function(e){return t.apply(this,arguments)}},r.a.createElement("center",{id:"pageForm"},r.a.createElement("input",{type:"text",name:"projectArnVersion",id:"projectArnVersion"}),r.a.createElement("input",{type:"submit",value:"Atualizar Project Version Arn"}),r.a.createElement("br",null),r.a.createElement("button",{id:"startButton",style:{display:"none"},onClick:function(e){e.preventDefault(),function(){n.apply(this,arguments)}(),window.location.reload()}}," Iniciar Modelo "),r.a.createElement("button",{id:"stopButton",style:{display:"none"},onClick:function(e){e.preventDefault(),function(){a.apply(this,arguments)}(),window.location.reload()}}," Parar Modelo "))))}}]),t}(a.Component);var N=function(){return r.a.createElement(s.a,null,r.a.createElement(l.c,null,r.a.createElement(l.a,{path:"/",exact:!0,component:u}),r.a.createElement(l.a,{path:"/panel",component:v,exact:!0}),r.a.createElement(l.a,{path:"/poc",component:y,exact:!0}),r.a.createElement(l.a,{path:"/poc/:id",component:E}),r.a.createElement(l.a,{path:"/panel/:id",component:b}),r.a.createElement(l.a,{path:"/controlPanel",component:I})))},j=n(65);var B=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"head"},r.a.createElement("a",{href:"/"},r.a.createElement("img",{src:j,alt:"",height:"30px",width:"30px"}),"\xa0 Appius Cam")),r.a.createElement("div",{className:"content"},r.a.createElement(N,null))))};o.a.render(r.a.createElement(B,null),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.34ca9730.chunk.js.map